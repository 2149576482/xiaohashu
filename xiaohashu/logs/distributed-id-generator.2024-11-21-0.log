2024-11-21 20:24:49.456 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:24:49.506 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:24:50.137 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:24:50.148 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:24:50.148 [main] INFO  c.a.x.d.i.g.b.XiaohashuDistributedIdGeneratorBizApplication - The following 1 profile is active: "dev"
2024-11-21 20:24:50.538 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=5a4f587f-e34d-3066-8f74-e6d462ba54b2
2024-11-21 20:24:50.792 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 20:24:50.802 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 20:24:50.802 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-11-21 20:24:50.890 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-21 20:24:50.891 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 732 ms
2024-11-21 20:24:51.035 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Init ...
2024-11-21 20:24:51.035 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:24:51.401 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Add tag leaf-segment-user-id from db to IdCache, SegmentBuffer SegmentBuffer{key='leaf-segment-user-id', segments=[Segment(value:0,max:0,step:0), Segment(value:0,max:0,step:0)], currentPos=0, nextReady=false, initOk=false, threadRunning=false, step=0, minStep=0, updateTimestamp=0}
2024-11-21 20:24:51.401 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Add tag leaf-segment-xiaohashu-id from db to IdCache, SegmentBuffer SegmentBuffer{key='leaf-segment-xiaohashu-id', segments=[Segment(value:0,max:0,step:0), Segment(value:0,max:0,step:0)], currentPos=0, nextReady=false, initOk=false, threadRunning=false, step=0, minStep=0, updateTimestamp=0}
2024-11-21 20:24:51.401 [main] INFO  org.perf4j.TimingLogger - start[1732191891036] time[365] tag[updateCacheFromDb]
2024-11-21 20:24:51.402 [main] INFO  c.a.x.d.id.generator.biz.service.SegmentService - Segment Service Init Successfully
2024-11-21 20:24:51.429 [main] INFO  c.a.x.d.i.g.biz.core.snowflake.SnowflakeIDGenImpl - twepoch:1288834974657 ,ip:192.168.117.1 ,zkAddress:192.168.117.200:2181 port:2222
2024-11-21 20:24:51.510 [main] WARN  org.apache.curator.CuratorZookeeperClient - session timeout [6000] is less than connection timeout [10000]
2024-11-21 20:24:51.526 [main] INFO  o.a.curator.framework.imps.CuratorFrameworkImpl - Starting
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:host.name=DESKTOP-A5EBBKG
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.version=17.0.2
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.vendor=Oracle Corporation
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.home=E:\develop\Java\jdk-17.0.2
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.class.path=E:\java_workspace\project\xiaohashu\xiaohashu\xiaohashu-distributed-id-generator\xiaohashu-distributed-id-generator-biz\target\classes;E:\java_workspace\project\xiaohashu\xiaohashu\xiaoha-framework\xiaoha-common\target\classes;E:\apache-maven-3.6.3\maven_library\org\projectlombok\lombok\1.18.30\lombok-1.18.30.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-databind\2.16.1\jackson-databind-2.16.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-annotations\2.14.1\jackson-annotations-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-core\2.16.1\jackson-core-2.16.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.14.1\jackson-datatype-jsr310-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-aop\3.0.2\spring-boot-starter-aop-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-aop\6.0.4\spring-aop-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\aspectj\aspectjweaver\1.9.19\aspectjweaver-1.9.19.jar;E:\apache-maven-3.6.3\maven_library\jakarta\validation\jakarta.validation-api\3.0.2\jakarta.validation-api-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\hibernate\validator\hibernate-validator\8.0.0.Final\hibernate-validator-8.0.0.Final.jar;E:\apache-maven-3.6.3\maven_library\org\jboss\logging\jboss-logging\3.5.0.Final\jboss-logging-3.5.0.Final.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\classmate\1.5.1\classmate-1.5.1.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\guava\33.0.0-jre\guava-33.0.0-jre.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\failureaccess\1.0.2\failureaccess-1.0.2.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\listenablefuture\9999.0-empty-to-avoid-conflict-with-guava\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;E:\apache-maven-3.6.3\maven_library\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\checkerframework\checker-qual\3.41.0\checker-qual-3.41.0.jar;E:\apache-maven-3.6.3\maven_library\com\google\errorprone\error_prone_annotations\2.23.0\error_prone_annotations-2.23.0.jar;E:\apache-maven-3.6.3\maven_library\com\google\j2objc\j2objc-annotations\2.8\j2objc-annotations-2.8.jar;E:\apache-maven-3.6.3\maven_library\cn\hutool\hutool-all\5.8.26\hutool-all-5.8.26.jar;E:\apache-maven-3.6.3\maven_library\org\apache\commons\commons-lang3\3.12.0\commons-lang3-3.12.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-web\3.0.2\spring-boot-starter-web-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter\3.0.2\spring-boot-starter-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot\3.0.2\spring-boot-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-autoconfigure\3.0.2\spring-boot-autoconfigure-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-logging\3.0.2\spring-boot-starter-logging-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\ch\qos\logback\logback-classic\1.4.5\logback-classic-1.4.5.jar;E:\apache-maven-3.6.3\maven_library\ch\qos\logback\logback-core\1.4.5\logback-core-1.4.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\logging\log4j\log4j-to-slf4j\2.19.0\log4j-to-slf4j-2.19.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\logging\log4j\log4j-api\2.19.0\log4j-api-2.19.0.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\jul-to-slf4j\2.0.6\jul-to-slf4j-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\jakarta\annotation\jakarta.annotation-api\2.1.1\jakarta.annotation-api-2.1.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-core\6.0.4\spring-core-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-jcl\6.0.4\spring-jcl-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\yaml\snakeyaml\1.33\snakeyaml-1.33.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-json\3.0.2\spring-boot-starter-json-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.14.1\jackson-datatype-jdk8-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\module\jackson-module-parameter-names\2.14.1\jackson-module-parameter-names-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-tomcat\3.0.2\spring-boot-starter-tomcat-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-core\10.1.5\tomcat-embed-core-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-el\10.1.5\tomcat-embed-el-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-websocket\10.1.5\tomcat-embed-websocket-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-web\6.0.4\spring-web-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-beans\6.0.4\spring-beans-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\io\micrometer\micrometer-observation\1.10.3\micrometer-observation-1.10.3.jar;E:\apache-maven-3.6.3\maven_library\io\micrometer\micrometer-commons\1.10.3\micrometer-commons-1.10.3.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-webmvc\6.0.4\spring-webmvc-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-context\6.0.4\spring-context-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-expression\6.0.4\spring-expression-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-starter-bootstrap\4.0.0\spring-cloud-starter-bootstrap-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-starter\4.0.0\spring-cloud-starter-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\security\spring-security-rsa\1.0.11.RELEASE\spring-security-rsa-1.0.11.RELEASE.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcpkix-jdk15on\1.69\bcpkix-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcprov-jdk15on\1.69\bcprov-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcutil-jdk15on\1.69\bcutil-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\cloud\spring-cloud-starter-alibaba-nacos-discovery\2022.0.0.0\spring-cloud-starter-alibaba-nacos-discovery-2022.0.0.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\cloud\spring-cloud-alibaba-commons\2022.0.0.0\spring-cloud-alibaba-commons-2022.0.0.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-client\2.2.1\nacos-client-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-auth-plugin\2.2.1\nacos-auth-plugin-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-encryption-plugin\2.2.1\nacos-encryption-plugin-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\commons-codec\commons-codec\1.15\commons-codec-1.15.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpasyncclient\4.1.5\httpasyncclient-4.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpcore\4.4.16\httpcore-4.4.16.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpcore-nio\4.4.16\httpcore-nio-4.4.16.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpclient\4.5.14\httpclient-4.5.14.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient\0.16.0\simpleclient-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_otel\0.16.0\simpleclient_tracer_otel-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_common\0.16.0\simpleclient_tracer_common-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_otel_agent\0.16.0\simpleclient_tracer_otel_agent-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\spring\spring-context-support\1.0.11\spring-context-support-1.0.11.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-commons\4.0.0\spring-cloud-commons-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\security\spring-security-crypto\6.0.1\spring-security-crypto-6.0.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-context\4.0.0\spring-cloud-context-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\commons-io\commons-io\2.4\commons-io-2.4.jar;E:\apache-maven-3.6.3\maven_library\org\perf4j\perf4j\0.9.16\perf4j-0.9.16.jar;E:\apache-maven-3.6.3\maven_library\mysql\mysql-connector-java\8.0.29\mysql-connector-java-8.0.29.jar;E:\apache-maven-3.6.3\maven_library\com\google\protobuf\protobuf-java\3.19.4\protobuf-java-3.19.4.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\druid\1.0.18\druid-1.0.18.jar;E:\apache-maven-3.6.3\maven_library\org\mybatis\mybatis\3.3.0\mybatis-3.3.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-recipes\2.6.0\curator-recipes-2.6.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-framework\5.1.0\curator-framework-5.1.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-client\5.1.0\curator-client-5.1.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\zookeeper\zookeeper\3.6.0\zookeeper-3.6.0.jar;E:\apache-maven-3.6.3\maven_library\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;E:\apache-maven-3.6.3\maven_library\org\apache\zookeeper\zookeeper-jute\3.6.0\zookeeper-jute-3.6.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\yetus\audience-annotations\0.5.0\audience-annotations-0.5.0.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-handler\4.1.87.Final\netty-handler-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-common\4.1.87.Final\netty-common-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-resolver\4.1.87.Final\netty-resolver-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-buffer\4.1.87.Final\netty-buffer-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport\4.1.87.Final\netty-transport-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-native-unix-common\4.1.87.Final\netty-transport-native-unix-common-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-codec\4.1.87.Final\netty-codec-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-native-epoll\4.1.87.Final\netty-transport-native-epoll-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-classes-epoll\4.1.87.Final\netty-transport-classes-epoll-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\slf4j-api\2.0.6\slf4j-api-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\slf4j-reload4j\2.0.6\slf4j-reload4j-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\log4j\log4j\1.2.17\log4j-1.2.17.jar
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.library.path=E:\develop\Java\jdk-17.0.2\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;E:\develop\Java\jdk1.8.0_251\bin;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\CRT\;E:\vmware\bin\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\MySQL\MySQL Server 8.0\bin;C:\Program Files\Google\Chrome\Application;D:\xshell\;D:\xshell\xftp\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;E:\apache-maven-3.6.3\bin;E:\tools\nvm;E:\tools\nodejs;D:\微信web开发者工具\dll;E:\sql;erver\Microsoft SQL Server\120\DTS\Binn\;E:\sqlServer\Microsoft SQL Server\Client SDK\ODBC\110\Tools\Binn\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\Tools\Binn\;E:\sqlServer\Microsoft SQL Server\120\Tools\Binn\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\Tools\Binn\ManagementStudio\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\DTS\Binn\;E:\apache-maven-3.6.3\bin;E:\Git\cmd;%NPM_HOME%;C:\Program Files\Docker\Docker\resources\bin;E:\tools\nodejs;E:\python3.10.2\Scripts\;E:\python3.10.2\;C:\Users\xu\AppData\Local\Microsoft\WindowsApps;E:\pycharm\PyCharm Community Edition 2021.2.3\bin;;G:\Microsoft VS Code\bin;%IntelliJ IDEA Community Edition%;%IntelliJ IDEA%;E:\tools\nvm;E:\tools\nodejs;C:\Users\xu\AppData\Local\GitHubDesktop\bin;;.
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.io.tmpdir=C:\Users\xu\AppData\Local\Temp\
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.compiler=<NA>
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.name=Windows 11
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.arch=amd64
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.version=10.0
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.name=xu
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.home=C:\Users\xu
2024-11-21 20:24:51.533 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.dir=E:\java_workspace\project\xiaohashu\xiaohashu
2024-11-21 20:24:51.534 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.free=60MB
2024-11-21 20:24:51.534 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.max=4074MB
2024-11-21 20:24:51.534 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.total=88MB
2024-11-21 20:24:51.538 [main] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=192.168.117.200:2181 sessionTimeout=6000 watcher=org.apache.curator.ConnectionState@805e72e
2024-11-21 20:24:51.543 [main] INFO  org.apache.zookeeper.common.X509Util - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2024-11-21 20:24:51.559 [main] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
2024-11-21 20:24:51.567 [main] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
2024-11-21 20:24:51.575 [main] INFO  o.a.curator.framework.imps.CuratorFrameworkImpl - Default schema
2024-11-21 20:24:54.313 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server 192.168.117.200/192.168.117.200:2181.
2024-11-21 20:24:54.313 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2024-11-21 20:24:54.458 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /192.168.117.1:59994, server: 192.168.117.200/192.168.117.200:2181
2024-11-21 20:25:00.460 [main-SendThread(192.168.117.200:2181)] WARN  org.apache.zookeeper.ClientCnxn - Client session timed out, have not heard from server in 6002ms for session id 0x0
2024-11-21 20:25:00.460 [main-SendThread(192.168.117.200:2181)] WARN  org.apache.zookeeper.ClientCnxn - Session 0x0 for sever 192.168.117.200/192.168.117.200:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 6002ms for session id 0x0
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
2024-11-21 20:25:01.691 [Curator-Framework-0] INFO  o.a.curator.framework.state.ConnectionStateManager - State change: SUSPENDED
2024-11-21 20:25:01.692 [Curator-Framework-0] ERROR o.a.curator.framework.imps.CuratorFrameworkImpl - Background operation retry gave up
org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:102)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.checkBackgroundRetry(CuratorFrameworkImpl.java:851)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:999)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:952)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.access$300(CuratorFrameworkImpl.java:66)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl$4.call(CuratorFrameworkImpl.java:342)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-21 20:25:01.692 [Curator-Framework-0] ERROR o.a.curator.framework.imps.CuratorFrameworkImpl - Background retry gave up
org.apache.curator.CuratorConnectionLossException: KeeperErrorCode = ConnectionLoss
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:981)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.backgroundOperationsLoop(CuratorFrameworkImpl.java:952)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl.access$300(CuratorFrameworkImpl.java:66)
	at org.apache.curator.framework.imps.CuratorFrameworkImpl$4.call(CuratorFrameworkImpl.java:342)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-21 20:25:02.241 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server 192.168.117.200/192.168.117.200:2181.
2024-11-21 20:25:02.242 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2024-11-21 20:25:02.275 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /192.168.117.1:60016, server: 192.168.117.200/192.168.117.200:2181
2024-11-21 20:25:07.696 [Curator-ConnectionStateManager-0] WARN  o.a.curator.framework.state.ConnectionStateManager - Session timeout has elapsed while SUSPENDED. Injecting a session expiration. Elapsed ms: 6005. Adjusted session timeout ms: 6000
2024-11-21 20:25:07.698 [Curator-ConnectionStateManager-0] INFO  org.apache.zookeeper.ZooKeeperTestable - injectSessionExpiration() called
2024-11-21 20:25:07.699 [main-EventThread] WARN  org.apache.curator.ConnectionState - Session expired event received
2024-11-21 20:25:07.701 [main-EventThread] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=192.168.117.200:2181 sessionTimeout=6000 watcher=org.apache.curator.ConnectionState@805e72e
2024-11-21 20:25:07.705 [main-EventThread] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
2024-11-21 20:25:07.705 [main-EventThread] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
2024-11-21 20:25:07.706 [main-EventThread] INFO  o.a.curator.framework.state.ConnectionStateManager - State change: LOST
2024-11-21 20:25:07.707 [main-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x0
2024-11-21 20:25:07.811 [main] ERROR c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - Start node ERROR {}
org.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /snowflake/com.sankuai.leaf.opensource.test/forever
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:134)
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)
	at org.apache.zookeeper.ZooKeeper.exists(ZooKeeper.java:2246)
	at org.apache.curator.framework.imps.ExistsBuilderImpl$3.call(ExistsBuilderImpl.java:268)
	at org.apache.curator.framework.imps.ExistsBuilderImpl$3.call(ExistsBuilderImpl.java:257)
	at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:93)
	at org.apache.curator.framework.imps.ExistsBuilderImpl.pathInForegroundStandard(ExistsBuilderImpl.java:254)
	at org.apache.curator.framework.imps.ExistsBuilderImpl.pathInForeground(ExistsBuilderImpl.java:247)
	at org.apache.curator.framework.imps.ExistsBuilderImpl.forPath(ExistsBuilderImpl.java:206)
	at org.apache.curator.framework.imps.ExistsBuilderImpl.forPath(ExistsBuilderImpl.java:35)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeZookeeperHolder.init(SnowflakeZookeeperHolder.java:52)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeIDGenImpl.<init>(SnowflakeIDGenImpl.java:50)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeIDGenImpl.<init>(SnowflakeIDGenImpl.java:36)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.service.SnowflakeService.<init>(SnowflakeService.java:28)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.XiaohashuDistributedIdGeneratorBizApplication.main(XiaohashuDistributedIdGeneratorBizApplication.java:15)
2024-11-21 20:25:07.812 [main] ERROR c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - Read file error 
java.io.FileNotFoundException: C:\Users\xu\AppData\Local\Temp\com.sankuai.leaf.opensource.test\leafconf\2222\workerID.properties (系统找不到指定的路径。)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:216)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:157)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeZookeeperHolder.init(SnowflakeZookeeperHolder.java:98)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeIDGenImpl.<init>(SnowflakeIDGenImpl.java:50)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeIDGenImpl.<init>(SnowflakeIDGenImpl.java:36)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.service.SnowflakeService.<init>(SnowflakeService.java:28)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.XiaohashuDistributedIdGeneratorBizApplication.main(XiaohashuDistributedIdGeneratorBizApplication.java:15)
2024-11-21 20:25:07.814 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leafController': Unsatisfied dependency expressed through field 'snowflakeService': Error creating bean with name 'SnowflakeService' defined in file [E:\java_workspace\project\xiaohashu\xiaohashu\xiaohashu-distributed-id-generator\xiaohashu-distributed-id-generator-biz\target\classes\com\arnanzz\xiaohashu\distributed\id\generator\biz\service\SnowflakeService.class]: Failed to instantiate [com.arnanzz.xiaohashu.distributed.id.generator.biz.service.SnowflakeService]: Constructor threw exception
2024-11-21 20:25:07.815 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-21 20:25:07.838 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-21 20:25:07.865 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'leafController': Unsatisfied dependency expressed through field 'snowflakeService': Error creating bean with name 'SnowflakeService' defined in file [E:\java_workspace\project\xiaohashu\xiaohashu\xiaohashu-distributed-id-generator\xiaohashu-distributed-id-generator-biz\target\classes\com\arnanzz\xiaohashu\distributed\id\generator\biz\service\SnowflakeService.class]: Failed to instantiate [com.arnanzz.xiaohashu.distributed.id.generator.biz.service.SnowflakeService]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.XiaohashuDistributedIdGeneratorBizApplication.main(XiaohashuDistributedIdGeneratorBizApplication.java:15)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'SnowflakeService' defined in file [E:\java_workspace\project\xiaohashu\xiaohashu\xiaohashu-distributed-id-generator\xiaohashu-distributed-id-generator-biz\target\classes\com\arnanzz\xiaohashu\distributed\id\generator\biz\service\SnowflakeService.class]: Failed to instantiate [com.arnanzz.xiaohashu.distributed.id.generator.biz.service.SnowflakeService]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.arnanzz.xiaohashu.distributed.id.generator.biz.service.SnowflakeService]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300)
	... 31 common frames omitted
Caused by: java.lang.IllegalArgumentException: Snowflake Id Gen is not init ok
	at com.google.common.base.Preconditions.checkArgument(Preconditions.java:143)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeIDGenImpl.<init>(SnowflakeIDGenImpl.java:55)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeIDGenImpl.<init>(SnowflakeIDGenImpl.java:36)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.service.SnowflakeService.<init>(SnowflakeService.java:28)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197)
	... 33 common frames omitted
2024-11-21 20:25:39.311 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:25:39.376 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:25:39.999 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:25:40.009 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:25:40.010 [main] INFO  c.a.x.d.i.g.b.XiaohashuDistributedIdGeneratorBizApplication - The following 1 profile is active: "dev"
2024-11-21 20:25:40.410 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=5a4f587f-e34d-3066-8f74-e6d462ba54b2
2024-11-21 20:25:40.632 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 20:25:40.639 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 20:25:40.639 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-11-21 20:25:40.716 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-21 20:25:40.716 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 697 ms
2024-11-21 20:25:40.834 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Init ...
2024-11-21 20:25:40.834 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:25:43.077 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Add tag leaf-segment-user-id from db to IdCache, SegmentBuffer SegmentBuffer{key='leaf-segment-user-id', segments=[Segment(value:0,max:0,step:0), Segment(value:0,max:0,step:0)], currentPos=0, nextReady=false, initOk=false, threadRunning=false, step=0, minStep=0, updateTimestamp=0}
2024-11-21 20:25:43.077 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Add tag leaf-segment-xiaohashu-id from db to IdCache, SegmentBuffer SegmentBuffer{key='leaf-segment-xiaohashu-id', segments=[Segment(value:0,max:0,step:0), Segment(value:0,max:0,step:0)], currentPos=0, nextReady=false, initOk=false, threadRunning=false, step=0, minStep=0, updateTimestamp=0}
2024-11-21 20:25:43.077 [main] INFO  org.perf4j.TimingLogger - start[1732191940834] time[2242] tag[updateCacheFromDb]
2024-11-21 20:25:43.078 [main] INFO  c.a.x.d.id.generator.biz.service.SegmentService - Segment Service Init Successfully
2024-11-21 20:25:43.106 [main] INFO  c.a.x.d.i.g.biz.core.snowflake.SnowflakeIDGenImpl - twepoch:1288834974657 ,ip:192.168.117.1 ,zkAddress:192.168.117.200:2181 port:2222
2024-11-21 20:25:43.155 [main] WARN  org.apache.curator.CuratorZookeeperClient - session timeout [6000] is less than connection timeout [10000]
2024-11-21 20:25:43.165 [main] INFO  o.a.curator.framework.imps.CuratorFrameworkImpl - Starting
2024-11-21 20:25:43.179 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
2024-11-21 20:25:43.179 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:host.name=DESKTOP-A5EBBKG
2024-11-21 20:25:43.179 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.version=17.0.2
2024-11-21 20:25:43.179 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.vendor=Oracle Corporation
2024-11-21 20:25:43.179 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.home=E:\develop\Java\jdk-17.0.2
2024-11-21 20:25:43.179 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.class.path=E:\java_workspace\project\xiaohashu\xiaohashu\xiaohashu-distributed-id-generator\xiaohashu-distributed-id-generator-biz\target\classes;E:\java_workspace\project\xiaohashu\xiaohashu\xiaoha-framework\xiaoha-common\target\classes;E:\apache-maven-3.6.3\maven_library\org\projectlombok\lombok\1.18.30\lombok-1.18.30.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-databind\2.16.1\jackson-databind-2.16.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-annotations\2.14.1\jackson-annotations-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-core\2.16.1\jackson-core-2.16.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.14.1\jackson-datatype-jsr310-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-aop\3.0.2\spring-boot-starter-aop-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-aop\6.0.4\spring-aop-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\aspectj\aspectjweaver\1.9.19\aspectjweaver-1.9.19.jar;E:\apache-maven-3.6.3\maven_library\jakarta\validation\jakarta.validation-api\3.0.2\jakarta.validation-api-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\hibernate\validator\hibernate-validator\8.0.0.Final\hibernate-validator-8.0.0.Final.jar;E:\apache-maven-3.6.3\maven_library\org\jboss\logging\jboss-logging\3.5.0.Final\jboss-logging-3.5.0.Final.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\classmate\1.5.1\classmate-1.5.1.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\guava\33.0.0-jre\guava-33.0.0-jre.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\failureaccess\1.0.2\failureaccess-1.0.2.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\listenablefuture\9999.0-empty-to-avoid-conflict-with-guava\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;E:\apache-maven-3.6.3\maven_library\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\checkerframework\checker-qual\3.41.0\checker-qual-3.41.0.jar;E:\apache-maven-3.6.3\maven_library\com\google\errorprone\error_prone_annotations\2.23.0\error_prone_annotations-2.23.0.jar;E:\apache-maven-3.6.3\maven_library\com\google\j2objc\j2objc-annotations\2.8\j2objc-annotations-2.8.jar;E:\apache-maven-3.6.3\maven_library\cn\hutool\hutool-all\5.8.26\hutool-all-5.8.26.jar;E:\apache-maven-3.6.3\maven_library\org\apache\commons\commons-lang3\3.12.0\commons-lang3-3.12.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-web\3.0.2\spring-boot-starter-web-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter\3.0.2\spring-boot-starter-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot\3.0.2\spring-boot-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-autoconfigure\3.0.2\spring-boot-autoconfigure-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-logging\3.0.2\spring-boot-starter-logging-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\ch\qos\logback\logback-classic\1.4.5\logback-classic-1.4.5.jar;E:\apache-maven-3.6.3\maven_library\ch\qos\logback\logback-core\1.4.5\logback-core-1.4.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\logging\log4j\log4j-to-slf4j\2.19.0\log4j-to-slf4j-2.19.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\logging\log4j\log4j-api\2.19.0\log4j-api-2.19.0.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\jul-to-slf4j\2.0.6\jul-to-slf4j-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\jakarta\annotation\jakarta.annotation-api\2.1.1\jakarta.annotation-api-2.1.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-core\6.0.4\spring-core-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-jcl\6.0.4\spring-jcl-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\yaml\snakeyaml\1.33\snakeyaml-1.33.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-json\3.0.2\spring-boot-starter-json-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.14.1\jackson-datatype-jdk8-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\module\jackson-module-parameter-names\2.14.1\jackson-module-parameter-names-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-tomcat\3.0.2\spring-boot-starter-tomcat-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-core\10.1.5\tomcat-embed-core-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-el\10.1.5\tomcat-embed-el-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-websocket\10.1.5\tomcat-embed-websocket-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-web\6.0.4\spring-web-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-beans\6.0.4\spring-beans-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\io\micrometer\micrometer-observation\1.10.3\micrometer-observation-1.10.3.jar;E:\apache-maven-3.6.3\maven_library\io\micrometer\micrometer-commons\1.10.3\micrometer-commons-1.10.3.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-webmvc\6.0.4\spring-webmvc-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-context\6.0.4\spring-context-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-expression\6.0.4\spring-expression-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-starter-bootstrap\4.0.0\spring-cloud-starter-bootstrap-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-starter\4.0.0\spring-cloud-starter-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\security\spring-security-rsa\1.0.11.RELEASE\spring-security-rsa-1.0.11.RELEASE.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcpkix-jdk15on\1.69\bcpkix-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcprov-jdk15on\1.69\bcprov-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcutil-jdk15on\1.69\bcutil-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\cloud\spring-cloud-starter-alibaba-nacos-discovery\2022.0.0.0\spring-cloud-starter-alibaba-nacos-discovery-2022.0.0.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\cloud\spring-cloud-alibaba-commons\2022.0.0.0\spring-cloud-alibaba-commons-2022.0.0.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-client\2.2.1\nacos-client-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-auth-plugin\2.2.1\nacos-auth-plugin-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-encryption-plugin\2.2.1\nacos-encryption-plugin-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\commons-codec\commons-codec\1.15\commons-codec-1.15.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpasyncclient\4.1.5\httpasyncclient-4.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpcore\4.4.16\httpcore-4.4.16.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpcore-nio\4.4.16\httpcore-nio-4.4.16.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpclient\4.5.14\httpclient-4.5.14.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient\0.16.0\simpleclient-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_otel\0.16.0\simpleclient_tracer_otel-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_common\0.16.0\simpleclient_tracer_common-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_otel_agent\0.16.0\simpleclient_tracer_otel_agent-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\spring\spring-context-support\1.0.11\spring-context-support-1.0.11.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-commons\4.0.0\spring-cloud-commons-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\security\spring-security-crypto\6.0.1\spring-security-crypto-6.0.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-context\4.0.0\spring-cloud-context-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\commons-io\commons-io\2.4\commons-io-2.4.jar;E:\apache-maven-3.6.3\maven_library\org\perf4j\perf4j\0.9.16\perf4j-0.9.16.jar;E:\apache-maven-3.6.3\maven_library\mysql\mysql-connector-java\8.0.29\mysql-connector-java-8.0.29.jar;E:\apache-maven-3.6.3\maven_library\com\google\protobuf\protobuf-java\3.19.4\protobuf-java-3.19.4.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\druid\1.0.18\druid-1.0.18.jar;E:\apache-maven-3.6.3\maven_library\org\mybatis\mybatis\3.3.0\mybatis-3.3.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-recipes\2.6.0\curator-recipes-2.6.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-framework\5.1.0\curator-framework-5.1.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-client\5.1.0\curator-client-5.1.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\zookeeper\zookeeper\3.6.0\zookeeper-3.6.0.jar;E:\apache-maven-3.6.3\maven_library\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;E:\apache-maven-3.6.3\maven_library\org\apache\zookeeper\zookeeper-jute\3.6.0\zookeeper-jute-3.6.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\yetus\audience-annotations\0.5.0\audience-annotations-0.5.0.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-handler\4.1.87.Final\netty-handler-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-common\4.1.87.Final\netty-common-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-resolver\4.1.87.Final\netty-resolver-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-buffer\4.1.87.Final\netty-buffer-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport\4.1.87.Final\netty-transport-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-native-unix-common\4.1.87.Final\netty-transport-native-unix-common-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-codec\4.1.87.Final\netty-codec-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-native-epoll\4.1.87.Final\netty-transport-native-epoll-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-classes-epoll\4.1.87.Final\netty-transport-classes-epoll-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\slf4j-api\2.0.6\slf4j-api-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\slf4j-reload4j\2.0.6\slf4j-reload4j-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\log4j\log4j\1.2.17\log4j-1.2.17.jar
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.library.path=E:\develop\Java\jdk-17.0.2\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;E:\develop\Java\jdk1.8.0_251\bin;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\CRT\;E:\vmware\bin\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\MySQL\MySQL Server 8.0\bin;C:\Program Files\Google\Chrome\Application;D:\xshell\;D:\xshell\xftp\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;E:\apache-maven-3.6.3\bin;E:\tools\nvm;E:\tools\nodejs;D:\微信web开发者工具\dll;E:\sql;erver\Microsoft SQL Server\120\DTS\Binn\;E:\sqlServer\Microsoft SQL Server\Client SDK\ODBC\110\Tools\Binn\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\Tools\Binn\;E:\sqlServer\Microsoft SQL Server\120\Tools\Binn\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\Tools\Binn\ManagementStudio\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\DTS\Binn\;E:\apache-maven-3.6.3\bin;E:\Git\cmd;%NPM_HOME%;C:\Program Files\Docker\Docker\resources\bin;E:\tools\nodejs;E:\python3.10.2\Scripts\;E:\python3.10.2\;C:\Users\xu\AppData\Local\Microsoft\WindowsApps;E:\pycharm\PyCharm Community Edition 2021.2.3\bin;;G:\Microsoft VS Code\bin;%IntelliJ IDEA Community Edition%;%IntelliJ IDEA%;E:\tools\nvm;E:\tools\nodejs;C:\Users\xu\AppData\Local\GitHubDesktop\bin;;.
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.io.tmpdir=C:\Users\xu\AppData\Local\Temp\
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.compiler=<NA>
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.name=Windows 11
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.arch=amd64
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.version=10.0
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.name=xu
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.home=C:\Users\xu
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.dir=E:\java_workspace\project\xiaohashu\xiaohashu
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.free=33MB
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.max=4074MB
2024-11-21 20:25:43.180 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.total=60MB
2024-11-21 20:25:43.182 [main] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=192.168.117.200:2181 sessionTimeout=6000 watcher=org.apache.curator.ConnectionState@805e72e
2024-11-21 20:25:43.185 [main] INFO  org.apache.zookeeper.common.X509Util - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2024-11-21 20:25:43.197 [main] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
2024-11-21 20:25:43.201 [main] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
2024-11-21 20:25:43.206 [main] INFO  o.a.curator.framework.imps.CuratorFrameworkImpl - Default schema
2024-11-21 20:25:45.899 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server 192.168.117.200/192.168.117.200:2181.
2024-11-21 20:25:45.899 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2024-11-21 20:25:46.593 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /192.168.117.1:60103, server: 192.168.117.200/192.168.117.200:2181
2024-11-21 20:25:47.544 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server 192.168.117.200/192.168.117.200:2181, session id = 0x100000081110002, negotiated timeout = 6000
2024-11-21 20:25:47.547 [main-EventThread] INFO  o.a.curator.framework.state.ConnectionStateManager - State change: CONNECTED
2024-11-21 20:25:50.343 [main-EventThread] INFO  org.apache.curator.framework.imps.EnsembleTracker - New config event received: {}
2024-11-21 20:25:50.343 [main-EventThread] INFO  org.apache.curator.framework.imps.EnsembleTracker - New config event received: {}
2024-11-21 20:25:51.645 [main] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - file exists status is false
2024-11-21 20:25:51.648 [main] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - init local file cache create parent dis status is true, worker id is 0
2024-11-21 20:25:51.665 [main] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - local file cache workerID is 0
2024-11-21 20:25:51.665 [main] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - [Old NODE]find forever node have this endpoint ip-192.168.117.1 port-2222 workid-0 childnode and start SUCCESS
2024-11-21 20:25:51.665 [main] INFO  c.a.x.d.i.g.biz.core.snowflake.SnowflakeIDGenImpl - START SUCCESS USE ZK WORKERID-0
2024-11-21 20:25:51.665 [main] INFO  c.a.x.d.id.generator.biz.service.SnowflakeService - Snowflake Service Init Successfully
2024-11-21 20:25:53.008 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path ''
2024-11-21 20:25:53.013 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 20:25:53.013 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-11-21 20:25:53.013 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-11-21 20:25:53.015 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-11-21 20:25:53.033 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-11-21 20:25:53.033 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-11-21 20:25:53.034 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-11-21 20:25:53.037 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-11-21 20:25:53.037 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-11-21 20:25:53.039 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-11-21 20:25:53.046 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0
2024-11-21 20:25:53.061 [main] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-11-21 20:25:53.061 [main] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-11-21 20:25:53.061 [main] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-11-21 20:25:53.065 [main] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] Try to connect to server on start up, server: {serverIp = '192.168.117.200', server main port = 8848}
2024-11-21 20:25:53.067 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.117.200 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-11-21 20:25:54.087 [main] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] Success to connect to server [192.168.117.200:8848] on start up, connectionId = 1732191954018_192.168.117.1_60110
2024-11-21 20:25:54.088 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] Notify connected event to listeners.
2024-11-21 20:25:54.088 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-11-21 20:25:54.088 [main] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-11-21 20:25:54.089 [main] INFO  com.alibaba.nacos.common.remote.client - [e4a60ddc-d9a1-4dec-b147-7924fa3d6ec0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$966/0x000000080133d2c8
2024-11-21 20:25:54.090 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-distributed-id-generator with instance Instance{instanceId='null', ip='192.168.117.1', port=8085, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2024-11-21 20:25:54.102 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-distributed-id-generator 192.168.117.1:8085 register finished
2024-11-21 20:25:54.456 [main] INFO  c.a.x.d.i.g.b.XiaohashuDistributedIdGeneratorBizApplication - Started XiaohashuDistributedIdGeneratorBizApplication in 16.068 seconds (process running for 16.9)
2024-11-21 20:26:43.089 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:26:43.100 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192003089] time[11] tag[updateCacheFromDb]
2024-11-21 20:27:43.105 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:27:43.108 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192063105] time[3] tag[updateCacheFromDb]
2024-11-21 20:28:43.113 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:28:43.130 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192123113] time[17] tag[updateCacheFromDb]
2024-11-21 20:29:43.136 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:29:43.140 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192183136] time[4] tag[updateCacheFromDb]
2024-11-21 20:30:43.146 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:30:43.148 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192243146] time[2] tag[updateCacheFromDb]
2024-11-21 20:31:43.158 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:31:43.272 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192303158] time[113] tag[updateCacheFromDb]
2024-11-21 20:32:43.283 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:32:43.286 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192363283] time[3] tag[updateCacheFromDb]
2024-11-21 20:33:43.302 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:33:43.311 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192423302] time[9] tag[updateCacheFromDb]
2024-11-21 20:34:43.326 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:34:43.329 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192483326] time[2] tag[updateCacheFromDb]
2024-11-21 20:35:43.343 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:35:43.346 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192543343] time[2] tag[updateCacheFromDb]
2024-11-21 20:36:43.347 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:36:43.367 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192603347] time[20] tag[updateCacheFromDb]
2024-11-21 20:37:43.370 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:37:43.373 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192663370] time[2] tag[updateCacheFromDb]
2024-11-21 20:38:43.383 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:38:43.395 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192723383] time[11] tag[updateCacheFromDb]
2024-11-21 20:39:43.402 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:39:43.405 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192783402] time[2] tag[updateCacheFromDb]
2024-11-21 20:40:43.410 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:40:43.413 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192843410] time[3] tag[updateCacheFromDb]
2024-11-21 20:41:43.423 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:41:43.426 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192903423] time[3] tag[updateCacheFromDb]
2024-11-21 20:42:43.431 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:42:43.501 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732192963431] time[71] tag[updateCacheFromDb]
2024-11-21 20:43:43.516 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:43:43.519 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193023516] time[3] tag[updateCacheFromDb]
2024-11-21 20:44:43.527 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:44:43.530 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193083527] time[3] tag[updateCacheFromDb]
2024-11-21 20:45:43.541 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:45:43.544 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193143541] time[2] tag[updateCacheFromDb]
2024-11-21 20:46:01.112 [http-nio-8085-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 20:46:01.112 [http-nio-8085-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 20:46:01.113 [http-nio-8085-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 20:46:43.548 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:46:43.550 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193203548] time[2] tag[updateCacheFromDb]
2024-11-21 20:47:43.555 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:47:43.557 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193263555] time[2] tag[updateCacheFromDb]
2024-11-21 20:48:43.566 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:48:43.569 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193323566] time[2] tag[updateCacheFromDb]
2024-11-21 20:49:43.584 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:49:43.587 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193383584] time[3] tag[updateCacheFromDb]
2024-11-21 20:50:43.593 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:50:43.597 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193443593] time[3] tag[updateCacheFromDb]
2024-11-21 20:51:43.598 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:51:43.601 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193503598] time[2] tag[updateCacheFromDb]
2024-11-21 20:52:43.602 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:52:43.605 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193563602] time[2] tag[updateCacheFromDb]
2024-11-21 20:53:43.606 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:53:43.609 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193623606] time[3] tag[updateCacheFromDb]
2024-11-21 20:54:43.614 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:54:43.618 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193683614] time[3] tag[updateCacheFromDb]
2024-11-21 20:55:43.623 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:55:43.627 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193743623] time[3] tag[updateCacheFromDb]
2024-11-21 20:56:43.642 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:56:43.645 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193803642] time[2] tag[updateCacheFromDb]
2024-11-21 20:57:43.657 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:57:43.661 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193863657] time[3] tag[updateCacheFromDb]
2024-11-21 20:58:43.673 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:58:43.677 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193923673] time[3] tag[updateCacheFromDb]
2024-11-21 20:59:43.691 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 20:59:43.694 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732193983691] time[3] tag[updateCacheFromDb]
2024-11-21 21:00:43.708 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:00:43.721 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194043709] time[11] tag[updateCacheFromDb]
2024-11-21 21:01:43.736 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:01:43.739 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194103736] time[2] tag[updateCacheFromDb]
2024-11-21 21:02:43.740 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:02:43.743 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194163740] time[3] tag[updateCacheFromDb]
2024-11-21 21:03:43.747 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:03:43.750 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194223747] time[2] tag[updateCacheFromDb]
2024-11-21 21:04:43.751 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:04:43.753 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194283751] time[3] tag[updateCacheFromDb]
2024-11-21 21:05:43.757 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:05:43.760 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194343757] time[3] tag[updateCacheFromDb]
2024-11-21 21:06:43.771 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:06:43.774 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194403771] time[3] tag[updateCacheFromDb]
2024-11-21 21:07:43.775 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:07:43.778 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194463776] time[2] tag[updateCacheFromDb]
2024-11-21 21:08:43.779 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:08:43.783 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194523779] time[4] tag[updateCacheFromDb]
2024-11-21 21:09:43.788 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:09:43.791 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194583788] time[2] tag[updateCacheFromDb]
2024-11-21 21:10:43.806 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:10:43.809 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194643806] time[2] tag[updateCacheFromDb]
2024-11-21 21:11:43.822 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:11:43.825 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194703822] time[3] tag[updateCacheFromDb]
2024-11-21 21:12:43.838 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:12:43.841 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194763838] time[3] tag[updateCacheFromDb]
2024-11-21 21:13:43.888 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:13:43.915 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194823888] time[28] tag[updateCacheFromDb]
2024-11-21 21:14:43.917 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:14:43.920 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194883917] time[2] tag[updateCacheFromDb]
2024-11-21 21:15:43.923 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:15:43.926 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732194943923] time[3] tag[updateCacheFromDb]
2024-11-21 21:16:43.936 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:16:43.955 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195003936] time[19] tag[updateCacheFromDb]
2024-11-21 21:17:43.969 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:17:43.972 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195063969] time[3] tag[updateCacheFromDb]
2024-11-21 21:18:43.985 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:18:43.988 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195123985] time[3] tag[updateCacheFromDb]
2024-11-21 21:18:50.418 [main-SendThread(192.168.117.200:2181)] WARN  org.apache.zookeeper.ClientCnxn - Client session timed out, have not heard from server in 4011ms for session id 0x100000081110002
2024-11-21 21:18:50.418 [main-SendThread(192.168.117.200:2181)] WARN  org.apache.zookeeper.ClientCnxn - Session 0x100000081110002 for sever 192.168.117.200/192.168.117.200:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 4011ms for session id 0x100000081110002
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
2024-11-21 21:18:50.540 [main-EventThread] INFO  o.a.curator.framework.state.ConnectionStateManager - State change: SUSPENDED
2024-11-21 21:18:50.548 [schedule-upload-time] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - update init data error path is /snowflake/com.sankuai.leaf.opensource.test/forever/192.168.117.1:2222-0000000000 error is {}
org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /snowflake/com.sankuai.leaf.opensource.test/forever/192.168.117.1:2222-0000000000
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:102)
	at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)
	at org.apache.zookeeper.ZooKeeper.setData(ZooKeeper.java:2551)
	at org.apache.curator.framework.imps.SetDataBuilderImpl$4.call(SetDataBuilderImpl.java:291)
	at org.apache.curator.framework.imps.SetDataBuilderImpl$4.call(SetDataBuilderImpl.java:287)
	at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:93)
	at org.apache.curator.framework.imps.SetDataBuilderImpl.pathInForeground(SetDataBuilderImpl.java:284)
	at org.apache.curator.framework.imps.SetDataBuilderImpl.forPath(SetDataBuilderImpl.java:270)
	at org.apache.curator.framework.imps.SetDataBuilderImpl.forPath(SetDataBuilderImpl.java:33)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeZookeeperHolder.updateNewData(SnowflakeZookeeperHolder.java:158)
	at com.arnanzz.xiaohashu.distributed.id.generator.biz.core.snowflake.SnowflakeZookeeperHolder$1.run(SnowflakeZookeeperHolder.java:124)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-21 21:18:55.152 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server 192.168.117.200/192.168.117.200:2181.
2024-11-21 21:18:55.152 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2024-11-21 21:18:55.289 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /192.168.117.1:62165, server: 192.168.117.200/192.168.117.200:2181
2024-11-21 21:18:55.663 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server 192.168.117.200/192.168.117.200:2181, session id = 0x100000081110002, negotiated timeout = 6000
2024-11-21 21:18:55.663 [main-EventThread] INFO  o.a.curator.framework.state.ConnectionStateManager - State change: RECONNECTED
2024-11-21 21:18:56.639 [main-EventThread] INFO  org.apache.curator.framework.imps.EnsembleTracker - New config event received: {}
2024-11-21 21:19:44.002 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:19:44.009 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195184003] time[5] tag[updateCacheFromDb]
2024-11-21 21:20:44.017 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:20:44.021 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195244017] time[4] tag[updateCacheFromDb]
2024-11-21 21:21:44.025 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:21:44.027 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195304025] time[2] tag[updateCacheFromDb]
2024-11-21 21:22:44.035 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:22:44.038 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195364035] time[3] tag[updateCacheFromDb]
2024-11-21 21:23:44.046 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:23:44.048 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195424046] time[2] tag[updateCacheFromDb]
2024-11-21 21:24:44.049 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:24:44.052 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195484049] time[2] tag[updateCacheFromDb]
2024-11-21 21:25:44.058 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:25:44.060 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195544058] time[2] tag[updateCacheFromDb]
2024-11-21 21:26:44.064 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:26:44.076 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195604064] time[11] tag[updateCacheFromDb]
2024-11-21 21:27:44.081 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:27:44.084 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195664081] time[3] tag[updateCacheFromDb]
2024-11-21 21:28:44.094 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:28:44.129 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195724094] time[34] tag[updateCacheFromDb]
2024-11-21 21:29:44.138 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:29:44.141 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195784138] time[3] tag[updateCacheFromDb]
2024-11-21 21:30:44.149 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:30:44.153 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195844149] time[4] tag[updateCacheFromDb]
2024-11-21 21:31:44.165 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:31:44.929 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195904165] time[764] tag[updateCacheFromDb]
2024-11-21 21:32:44.942 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:32:44.946 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732195964942] time[4] tag[updateCacheFromDb]
2024-11-21 21:33:44.960 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:33:44.963 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196024960] time[3] tag[updateCacheFromDb]
2024-11-21 21:34:44.975 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:34:44.978 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196084975] time[2] tag[updateCacheFromDb]
2024-11-21 21:35:44.987 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:35:44.991 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196144987] time[3] tag[updateCacheFromDb]
2024-11-21 21:36:44.995 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:36:44.998 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196204995] time[2] tag[updateCacheFromDb]
2024-11-21 21:37:45.009 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:37:45.033 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196265009] time[25] tag[updateCacheFromDb]
2024-11-21 21:38:24.501 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-11-21 21:38:24.501 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-11-21 21:38:24.501 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-11-21 21:38:24.502 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-11-21 21:38:24.595 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-11-21 21:38:24.595 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-distributed-id-generator with instance: Instance{instanceId='null', ip='192.168.117.1', port=8085, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-11-21 21:38:24.600 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-11-21 21:38:24.600 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-11-21 21:38:24.600 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-11-21 21:38:24.600 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-11-21 21:38:24.600 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-11-21 21:38:24.600 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-11-21 21:38:24.600 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@3a5a0d20[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-11-21 21:38:24.601 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1732191954018_192.168.117.1_60110
2024-11-21 21:38:24.603 [nacos-grpc-client-executor-192.168.117.200-911] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1732191954018_192.168.117.1_60110]Ignore complete event,isRunning:false,isAbandon=false
2024-11-21 21:38:24.607 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@283886a5[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 912]
2024-11-21 21:38:24.608 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@eb9e7ee[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1446]
2024-11-21 21:38:24.608 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-11-21 21:38:24.608 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-11-21 21:38:24.608 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-11-21 21:39:53.984 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 21:39:54.054 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 21:39:54.941 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 21:39:54.956 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 21:39:54.956 [main] INFO  c.a.x.d.i.g.b.XiaohashuDistributedIdGeneratorBizApplication - The following 1 profile is active: "dev"
2024-11-21 21:39:55.558 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=5a4f587f-e34d-3066-8f74-e6d462ba54b2
2024-11-21 21:39:55.836 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8085 (http)
2024-11-21 21:39:55.847 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-11-21 21:39:55.847 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-11-21 21:39:55.966 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-21 21:39:55.966 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 993 ms
2024-11-21 21:39:56.151 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Init ...
2024-11-21 21:39:56.151 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:39:56.446 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Add tag leaf-segment-user-id from db to IdCache, SegmentBuffer SegmentBuffer{key='leaf-segment-user-id', segments=[Segment(value:0,max:0,step:0), Segment(value:0,max:0,step:0)], currentPos=0, nextReady=false, initOk=false, threadRunning=false, step=0, minStep=0, updateTimestamp=0}
2024-11-21 21:39:56.446 [main] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - Add tag leaf-segment-xiaohashu-id from db to IdCache, SegmentBuffer SegmentBuffer{key='leaf-segment-xiaohashu-id', segments=[Segment(value:0,max:0,step:0), Segment(value:0,max:0,step:0)], currentPos=0, nextReady=false, initOk=false, threadRunning=false, step=0, minStep=0, updateTimestamp=0}
2024-11-21 21:39:56.446 [main] INFO  org.perf4j.TimingLogger - start[1732196396152] time[293] tag[updateCacheFromDb]
2024-11-21 21:39:56.447 [main] INFO  c.a.x.d.id.generator.biz.service.SegmentService - Segment Service Init Successfully
2024-11-21 21:39:56.485 [main] INFO  c.a.x.d.i.g.biz.core.snowflake.SnowflakeIDGenImpl - twepoch:1288834974657 ,ip:192.168.117.1 ,zkAddress:192.168.117.200:2181 port:2222
2024-11-21 21:39:56.557 [main] WARN  org.apache.curator.CuratorZookeeperClient - session timeout [6000] is less than connection timeout [10000]
2024-11-21 21:39:56.573 [main] INFO  o.a.curator.framework.imps.CuratorFrameworkImpl - Starting
2024-11-21 21:39:56.580 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:host.name=DESKTOP-A5EBBKG
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.version=17.0.2
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.vendor=Oracle Corporation
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.home=E:\develop\Java\jdk-17.0.2
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.class.path=E:\java_workspace\project\xiaohashu\xiaohashu\xiaohashu-distributed-id-generator\xiaohashu-distributed-id-generator-biz\target\classes;E:\java_workspace\project\xiaohashu\xiaohashu\xiaoha-framework\xiaoha-common\target\classes;E:\apache-maven-3.6.3\maven_library\org\projectlombok\lombok\1.18.30\lombok-1.18.30.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-databind\2.16.1\jackson-databind-2.16.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-annotations\2.14.1\jackson-annotations-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\core\jackson-core\2.16.1\jackson-core-2.16.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\datatype\jackson-datatype-jsr310\2.14.1\jackson-datatype-jsr310-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-aop\3.0.2\spring-boot-starter-aop-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-aop\6.0.4\spring-aop-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\aspectj\aspectjweaver\1.9.19\aspectjweaver-1.9.19.jar;E:\apache-maven-3.6.3\maven_library\jakarta\validation\jakarta.validation-api\3.0.2\jakarta.validation-api-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\hibernate\validator\hibernate-validator\8.0.0.Final\hibernate-validator-8.0.0.Final.jar;E:\apache-maven-3.6.3\maven_library\org\jboss\logging\jboss-logging\3.5.0.Final\jboss-logging-3.5.0.Final.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\classmate\1.5.1\classmate-1.5.1.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\guava\33.0.0-jre\guava-33.0.0-jre.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\failureaccess\1.0.2\failureaccess-1.0.2.jar;E:\apache-maven-3.6.3\maven_library\com\google\guava\listenablefuture\9999.0-empty-to-avoid-conflict-with-guava\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;E:\apache-maven-3.6.3\maven_library\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\checkerframework\checker-qual\3.41.0\checker-qual-3.41.0.jar;E:\apache-maven-3.6.3\maven_library\com\google\errorprone\error_prone_annotations\2.23.0\error_prone_annotations-2.23.0.jar;E:\apache-maven-3.6.3\maven_library\com\google\j2objc\j2objc-annotations\2.8\j2objc-annotations-2.8.jar;E:\apache-maven-3.6.3\maven_library\cn\hutool\hutool-all\5.8.26\hutool-all-5.8.26.jar;E:\apache-maven-3.6.3\maven_library\org\apache\commons\commons-lang3\3.12.0\commons-lang3-3.12.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-web\3.0.2\spring-boot-starter-web-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter\3.0.2\spring-boot-starter-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot\3.0.2\spring-boot-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-autoconfigure\3.0.2\spring-boot-autoconfigure-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-logging\3.0.2\spring-boot-starter-logging-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\ch\qos\logback\logback-classic\1.4.5\logback-classic-1.4.5.jar;E:\apache-maven-3.6.3\maven_library\ch\qos\logback\logback-core\1.4.5\logback-core-1.4.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\logging\log4j\log4j-to-slf4j\2.19.0\log4j-to-slf4j-2.19.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\logging\log4j\log4j-api\2.19.0\log4j-api-2.19.0.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\jul-to-slf4j\2.0.6\jul-to-slf4j-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\jakarta\annotation\jakarta.annotation-api\2.1.1\jakarta.annotation-api-2.1.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-core\6.0.4\spring-core-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-jcl\6.0.4\spring-jcl-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\yaml\snakeyaml\1.33\snakeyaml-1.33.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-json\3.0.2\spring-boot-starter-json-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\datatype\jackson-datatype-jdk8\2.14.1\jackson-datatype-jdk8-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\com\fasterxml\jackson\module\jackson-module-parameter-names\2.14.1\jackson-module-parameter-names-2.14.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\boot\spring-boot-starter-tomcat\3.0.2\spring-boot-starter-tomcat-3.0.2.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-core\10.1.5\tomcat-embed-core-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-el\10.1.5\tomcat-embed-el-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\tomcat\embed\tomcat-embed-websocket\10.1.5\tomcat-embed-websocket-10.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-web\6.0.4\spring-web-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-beans\6.0.4\spring-beans-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\io\micrometer\micrometer-observation\1.10.3\micrometer-observation-1.10.3.jar;E:\apache-maven-3.6.3\maven_library\io\micrometer\micrometer-commons\1.10.3\micrometer-commons-1.10.3.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-webmvc\6.0.4\spring-webmvc-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-context\6.0.4\spring-context-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\spring-expression\6.0.4\spring-expression-6.0.4.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-starter-bootstrap\4.0.0\spring-cloud-starter-bootstrap-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-starter\4.0.0\spring-cloud-starter-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\security\spring-security-rsa\1.0.11.RELEASE\spring-security-rsa-1.0.11.RELEASE.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcpkix-jdk15on\1.69\bcpkix-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcprov-jdk15on\1.69\bcprov-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\org\bouncycastle\bcutil-jdk15on\1.69\bcutil-jdk15on-1.69.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\cloud\spring-cloud-starter-alibaba-nacos-discovery\2022.0.0.0\spring-cloud-starter-alibaba-nacos-discovery-2022.0.0.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\cloud\spring-cloud-alibaba-commons\2022.0.0.0\spring-cloud-alibaba-commons-2022.0.0.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-client\2.2.1\nacos-client-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-auth-plugin\2.2.1\nacos-auth-plugin-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\nacos\nacos-encryption-plugin\2.2.1\nacos-encryption-plugin-2.2.1.jar;E:\apache-maven-3.6.3\maven_library\commons-codec\commons-codec\1.15\commons-codec-1.15.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpasyncclient\4.1.5\httpasyncclient-4.1.5.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpcore\4.4.16\httpcore-4.4.16.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpcore-nio\4.4.16\httpcore-nio-4.4.16.jar;E:\apache-maven-3.6.3\maven_library\org\apache\httpcomponents\httpclient\4.5.14\httpclient-4.5.14.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient\0.16.0\simpleclient-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_otel\0.16.0\simpleclient_tracer_otel-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_common\0.16.0\simpleclient_tracer_common-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\io\prometheus\simpleclient_tracer_otel_agent\0.16.0\simpleclient_tracer_otel_agent-0.16.0.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\spring\spring-context-support\1.0.11\spring-context-support-1.0.11.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-commons\4.0.0\spring-cloud-commons-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\security\spring-security-crypto\6.0.1\spring-security-crypto-6.0.1.jar;E:\apache-maven-3.6.3\maven_library\org\springframework\cloud\spring-cloud-context\4.0.0\spring-cloud-context-4.0.0.jar;E:\apache-maven-3.6.3\maven_library\commons-io\commons-io\2.4\commons-io-2.4.jar;E:\apache-maven-3.6.3\maven_library\org\perf4j\perf4j\0.9.16\perf4j-0.9.16.jar;E:\apache-maven-3.6.3\maven_library\mysql\mysql-connector-java\8.0.29\mysql-connector-java-8.0.29.jar;E:\apache-maven-3.6.3\maven_library\com\google\protobuf\protobuf-java\3.19.4\protobuf-java-3.19.4.jar;E:\apache-maven-3.6.3\maven_library\com\alibaba\druid\1.0.18\druid-1.0.18.jar;E:\apache-maven-3.6.3\maven_library\org\mybatis\mybatis\3.3.0\mybatis-3.3.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-recipes\2.6.0\curator-recipes-2.6.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-framework\5.1.0\curator-framework-5.1.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\curator\curator-client\5.1.0\curator-client-5.1.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\zookeeper\zookeeper\3.6.0\zookeeper-3.6.0.jar;E:\apache-maven-3.6.3\maven_library\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;E:\apache-maven-3.6.3\maven_library\org\apache\zookeeper\zookeeper-jute\3.6.0\zookeeper-jute-3.6.0.jar;E:\apache-maven-3.6.3\maven_library\org\apache\yetus\audience-annotations\0.5.0\audience-annotations-0.5.0.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-handler\4.1.87.Final\netty-handler-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-common\4.1.87.Final\netty-common-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-resolver\4.1.87.Final\netty-resolver-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-buffer\4.1.87.Final\netty-buffer-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport\4.1.87.Final\netty-transport-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-native-unix-common\4.1.87.Final\netty-transport-native-unix-common-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-codec\4.1.87.Final\netty-codec-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-native-epoll\4.1.87.Final\netty-transport-native-epoll-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\io\netty\netty-transport-classes-epoll\4.1.87.Final\netty-transport-classes-epoll-4.1.87.Final.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\slf4j-api\2.0.6\slf4j-api-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\org\slf4j\slf4j-reload4j\2.0.6\slf4j-reload4j-2.0.6.jar;E:\apache-maven-3.6.3\maven_library\log4j\log4j\1.2.17\log4j-1.2.17.jar
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.library.path=E:\develop\Java\jdk-17.0.2\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;E:\develop\Java\jdk1.8.0_251\bin;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\CRT\;E:\vmware\bin\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\MySQL\MySQL Server 8.0\bin;C:\Program Files\Google\Chrome\Application;D:\xshell\;D:\xshell\xftp\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;E:\apache-maven-3.6.3\bin;E:\tools\nvm;E:\tools\nodejs;D:\微信web开发者工具\dll;E:\sql;erver\Microsoft SQL Server\120\DTS\Binn\;E:\sqlServer\Microsoft SQL Server\Client SDK\ODBC\110\Tools\Binn\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\Tools\Binn\;E:\sqlServer\Microsoft SQL Server\120\Tools\Binn\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\Tools\Binn\ManagementStudio\;E:\sqlServer\sqlServer(86)\Microsoft SQL Server\120\DTS\Binn\;E:\apache-maven-3.6.3\bin;E:\Git\cmd;%NPM_HOME%;C:\Program Files\Docker\Docker\resources\bin;E:\tools\nodejs;E:\python3.10.2\Scripts\;E:\python3.10.2\;C:\Users\xu\AppData\Local\Microsoft\WindowsApps;E:\pycharm\PyCharm Community Edition 2021.2.3\bin;;G:\Microsoft VS Code\bin;%IntelliJ IDEA Community Edition%;%IntelliJ IDEA%;E:\tools\nvm;E:\tools\nodejs;C:\Users\xu\AppData\Local\GitHubDesktop\bin;;.
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.io.tmpdir=C:\Users\xu\AppData\Local\Temp\
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:java.compiler=<NA>
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.name=Windows 11
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.arch=amd64
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.version=10.0
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.name=xu
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.home=C:\Users\xu
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:user.dir=E:\java_workspace\project\xiaohashu\xiaohashu
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.free=53MB
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.max=4074MB
2024-11-21 21:39:56.581 [main] INFO  org.apache.zookeeper.ZooKeeper - Client environment:os.memory.total=80MB
2024-11-21 21:39:56.585 [main] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=192.168.117.200:2181 sessionTimeout=6000 watcher=org.apache.curator.ConnectionState@805e72e
2024-11-21 21:39:56.589 [main] INFO  org.apache.zookeeper.common.X509Util - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2024-11-21 21:39:56.607 [main] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
2024-11-21 21:39:56.612 [main] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
2024-11-21 21:39:56.621 [main] INFO  o.a.curator.framework.imps.CuratorFrameworkImpl - Default schema
2024-11-21 21:39:59.321 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server 192.168.117.200/192.168.117.200:2181.
2024-11-21 21:39:59.321 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2024-11-21 21:39:59.427 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /192.168.117.1:63169, server: 192.168.117.200/192.168.117.200:2181
2024-11-21 21:39:59.440 [main-SendThread(192.168.117.200:2181)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server 192.168.117.200/192.168.117.200:2181, session id = 0x100000081110003, negotiated timeout = 6000
2024-11-21 21:39:59.457 [main-EventThread] INFO  o.a.curator.framework.state.ConnectionStateManager - State change: CONNECTED
2024-11-21 21:39:59.643 [main-EventThread] INFO  org.apache.curator.framework.imps.EnsembleTracker - New config event received: {}
2024-11-21 21:39:59.643 [main-EventThread] INFO  org.apache.curator.framework.imps.EnsembleTracker - New config event received: {}
2024-11-21 21:39:59.727 [main] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - file exists status is true
2024-11-21 21:39:59.735 [main] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - update file cache workerID is 0
2024-11-21 21:39:59.735 [main] INFO  c.a.x.d.i.g.b.c.snowflake.SnowflakeZookeeperHolder - [Old NODE]find forever node have this endpoint ip-192.168.117.1 port-2222 workid-0 childnode and start SUCCESS
2024-11-21 21:39:59.735 [main] INFO  c.a.x.d.i.g.biz.core.snowflake.SnowflakeIDGenImpl - START SUCCESS USE ZK WORKERID-0
2024-11-21 21:39:59.735 [main] INFO  c.a.x.d.id.generator.biz.service.SnowflakeService - Snowflake Service Init Successfully
2024-11-21 21:40:01.691 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8085 (http) with context path ''
2024-11-21 21:40:01.698 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-11-21 21:40:01.698 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-11-21 21:40:01.699 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-11-21 21:40:01.699 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-11-21 21:40:01.723 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-11-21 21:40:01.723 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-11-21 21:40:01.724 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-11-21 21:40:01.730 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-11-21 21:40:01.730 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-11-21 21:40:01.733 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-11-21 21:40:01.745 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 374f3d63-b091-4eac-8d11-ad2502bf73aa
2024-11-21 21:40:01.767 [main] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-11-21 21:40:01.767 [main] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-11-21 21:40:01.767 [main] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-11-21 21:40:01.769 [main] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] Try to connect to server on start up, server: {serverIp = '192.168.117.200', server main port = 8848}
2024-11-21 21:40:01.773 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.117.200 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-11-21 21:40:02.975 [main] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] Success to connect to server [192.168.117.200:8848] on start up, connectionId = 1732196402912_192.168.117.1_63181
2024-11-21 21:40:02.975 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] Notify connected event to listeners.
2024-11-21 21:40:02.975 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-11-21 21:40:02.976 [main] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-11-21 21:40:02.976 [main] INFO  com.alibaba.nacos.common.remote.client - [374f3d63-b091-4eac-8d11-ad2502bf73aa] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$965/0x000000080133dda0
2024-11-21 21:40:02.977 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-distributed-id-generator with instance Instance{instanceId='null', ip='192.168.117.1', port=8085, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2024-11-21 21:40:02.993 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-distributed-id-generator 192.168.117.1:8085 register finished
2024-11-21 21:40:03.429 [main] INFO  c.a.x.d.i.g.b.XiaohashuDistributedIdGeneratorBizApplication - Started XiaohashuDistributedIdGeneratorBizApplication in 10.574 seconds (process running for 11.589)
2024-11-21 21:40:31.388 [http-nio-8085-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-21 21:40:31.388 [http-nio-8085-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-21 21:40:31.389 [http-nio-8085-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-21 21:40:56.453 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:40:56.458 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196456453] time[5] tag[updateCacheFromDb]
2024-11-21 21:41:56.461 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:41:56.464 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196516461] time[3] tag[updateCacheFromDb]
2024-11-21 21:42:56.477 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:42:56.480 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196576477] time[3] tag[updateCacheFromDb]
2024-11-21 21:43:56.486 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:43:56.489 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196636486] time[2] tag[updateCacheFromDb]
2024-11-21 21:44:56.493 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:44:56.497 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196696493] time[4] tag[updateCacheFromDb]
2024-11-21 21:45:56.510 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:45:56.513 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196756510] time[2] tag[updateCacheFromDb]
2024-11-21 21:46:56.522 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:46:56.524 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196816522] time[2] tag[updateCacheFromDb]
2024-11-21 21:47:56.536 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:47:56.539 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196876536] time[3] tag[updateCacheFromDb]
2024-11-21 21:48:56.551 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:48:56.573 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196936551] time[21] tag[updateCacheFromDb]
2024-11-21 21:49:56.575 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:49:56.578 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732196996575] time[4] tag[updateCacheFromDb]
2024-11-21 21:50:56.581 [check-idCache-thread] INFO  c.a.x.d.i.g.biz.core.segment.SegmentIDGenImpl - update cache from db
2024-11-21 21:50:56.584 [check-idCache-thread] INFO  org.perf4j.TimingLogger - start[1732197056581] time[3] tag[updateCacheFromDb]
2024-11-21 21:51:20.858 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-11-21 21:51:20.858 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-11-21 21:51:20.858 [Thread-8] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-11-21 21:51:20.858 [Thread-11] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-11-21 21:51:20.991 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-11-21 21:51:20.991 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-distributed-id-generator with instance: Instance{instanceId='null', ip='192.168.117.1', port=8085, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-11-21 21:51:20.996 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-11-21 21:51:20.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-11-21 21:51:20.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-11-21 21:51:20.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@34039aa0[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-11-21 21:51:20.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1732196402912_192.168.117.1_63181
2024-11-21 21:51:21.006 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3fef0862[Running, pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 188]
2024-11-21 21:51:21.006 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@c6ede7[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 225]
2024-11-21 21:51:21.007 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-11-21 21:51:21.007 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-11-21 21:51:21.008 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-11-21 21:51:21.010 [nacos-grpc-client-executor-192.168.117.200-188] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1732196402912_192.168.117.1_63181]Ignore error event,isRunning:false,isAbandon=false
